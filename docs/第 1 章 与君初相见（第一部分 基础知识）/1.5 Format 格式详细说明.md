# 1.5 Format 格式详细说明

在后面的内容中，我们还会大量使用`println!`宏，因此提前介绍一下这个宏的基本用法。跟 C 语言的 printf 函数类似，这个宏也支持各种格式控制，示例如下：

---

```rust
fn main() {
    println!("{}", 1);            // 默认用法，打印 Display
    println!("{:o}", 9);          // 八进制
    println!("{:x}", 255);        // 十六进制 小写
    println!("{:X}", 255);        // 十六进制 大写
    println!("{:p}", &0);         // 指针
    println!("{:b}", 15);         // 二进制
    println!("{:e}", 10000f32);   // 科学计数 (小写)
    println!("{:E}", 10000f32);   // 科学计数 (大写)

    println!("{:?}", "test");     // 打印 Debug
    println!("{:#?}", ("test1", "test2"));        // 带换行和缩进的 Debug 打印

    println!("{a} {b} {b}", a = "x", b = "y");   // 命名参数
}
```

---

Rust 中还有一系列的宏，都是用的同样的格式控制规则，如 format！write！writeln！等。详细文档可以参见标准库文档中 std::fmt 模块中的说明。

Rust 标准库中之所以设计了这么一个宏来做标准输出，主要是为了更好地错误检查。大家可以试试，如果出现参数个数、格式等各种原因不匹配会直接导致编译错误。而函数则不具备字符串格式化的静态检查功能，如果出现了不匹配的情况，只能是运行期错误。这个宏最终还是调用了 std::io 模块内提供的一些函数来完成的。如果用户需要更精细地控制标准输出操作，也可以直接调用标准库来完成。
